{% extends "admin/base_admin.html" %}
{% block title %}Editar Administrador{% endblock %}
{% block content %}
<div class="container-fluid"><div class="card shadow"><div class="card-header bg-warning text-dark"><h4 class="mb-0"><i class="fas fa-edit"></i> Editar Administrador #{{ administrator.id }}</h4></div><div class="card-body">
<form method="POST" enctype="multipart/form-data">
<input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
{% if administrator.foto %}<div class="mb-3"><img src="{{ url_for('static', filename=administrator.foto) }}" class="rounded" style="max-width: 150px;"></div>{% endif %}
<div class="row">
    <div class="col-md-6 mb-3"><label>Nombre *</label><input type="text" class="form-control" name="nombre" value="{{ administrator.nombre }}" required></div>
    <div class="col-md-6 mb-3"><label>Email *</label><input type="email" class="form-control" name="email" value="{{ administrator.email }}" required></div>
</div>
<div class="row">
    <div class="col-md-6 mb-3"><label>Nueva Contraseña (opcional)</label><input type="password" class="form-control" name="password" minlength="6"><small class="text-muted">Dejar vacío para mantener actual</small></div>
    <div class="col-md-6 mb-3"><label>Nueva Foto (opcional)</label><input type="file" class="form-control" name="foto" accept="image/*"></div>
</div>
<div class="row">
    <div class="col-md-6 mb-3"><label>Perfil</label><select class="form-control" name="perfil" {{ 'disabled' if administrator.id == session.admin_id }}><option value="editor" {{ 'selected' if administrator.perfil == 'editor' }}>Editor</option><option value="administrador" {{ 'selected' if administrator.perfil == 'administrador' }}>Administrador</option></select></div>
    <div class="col-md-6 mb-3"><label>Estado</label><select class="form-control" name="estado" {{ 'disabled' if administrator.id == session.admin_id }}><option value="1" {{ 'selected' if administrator.estado == 1 }}>Activo</option><option value="0" {{ 'selected' if administrator.estado == 0 }}>Inactivo</option></select></div>
</div>
<div class="d-grid gap-2 d-md-flex justify-content-md-end">
    <a href="{{ url_for('admin.administrators') }}" class="btn btn-secondary"><i class="fas fa-times"></i> Cancelar</a>
    <button type="submit" class="btn btn-warning"><i class="fas fa-save"></i> Actualizar</button>
</div>
</form>
</div></div></div>
{% endblock %}
